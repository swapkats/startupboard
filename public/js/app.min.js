"use strict";angular.module("startupBoard",["ngCookies","ngResource","ui.bootstrap","ui.router"]),angular.module("startupBoard").config(["$stateProvider","$urlRouterProvider",function(a,b){b.otherwise("/"),a.state("all articles",{url:"/boards",templateUrl:"views/boards/list.html"}).state("create article",{url:"/board/new",templateUrl:"views/boards/create.html"}).state("edit article",{url:"/board/:articleId/edit",templateUrl:"views/boards/edit.html"}).state("article by id",{url:"/board/:articleId",templateUrl:"views/boards/view.html"}).state("home",{url:"/",templateUrl:"views/index.html"})}]),angular.module("startupBoard").config(["$locationProvider",function(a){a.hashPrefix("!")}]),angular.module("startupBoard").controller("BoardController",["$scope","$stateParams","$location","Global","Articles",function(a,b,c,d,e){a.global=d,a.create=function(){var a=new e({title:this.title,content:this.content,city:this.city});a.$save(function(a){c.path("articles/"+a._id)}),this.title="",this.content="",this.city=""},a.remove=function(b){if(b){b.$remove();for(var d in a.articles)a.articles[d]===b&&a.articles.splice(d,1)}else a.article.$remove(),c.path("articles")},a.update=function(){var b=a.article;b.updated||(b.updated=[]),b.updated.push((new Date).getTime()),b.$update(function(){c.path("articles/"+b._id)})},a.find=function(){e.query(function(b){a.articles=b.boards})},a.findOne=function(){e.get({articleId:b.articleId},function(b){a.article=b})}}]),angular.module("startupBoard").controller("HeaderController",["$scope","Global",function(a,b){a.global=b,a.menu=[{title:"Post Job",link:"board/new"}],a.isCollapsed=!1}]),angular.module("startupBoard").controller("IndexController",["$scope","Global",function(a,b){a.global=b}]),angular.module("startupBoard").factory("Articles",["$resource",function(a){return a("board/:articleId",{articleId:"@_id"},{update:{method:"PUT"},query:{isArray:!1}})}]),angular.module("startupBoard").factory("Global",[function(){var a=this;return a._data={user:window.user,authenticated:!!window.user},a._data}]),angular.element(document).ready(function(){"#_=_"===window.location.hash&&(window.location.hash="#!"),angular.bootstrap(document,["startupBoard"])});